{
  "meta": {
    "mimetype": "application/x-daoplayer-composition",
    "version": 1,
    "title": "JC-WH_Outward_scene",
    "description" : "Scene for the adaptive tracks when used on the outward leg of walk (JC to WH)"
  },
  "scenes": [
    {
    "name": "fixedPlaylistIn",
      "partial": false,
      "waypoints":{"W1":"J_CS","W2":"WR"},
     "routes":{"R1":"J_CS-WR", "Rnext":"LTA_LT-LTA_WH"},
      "onload": "daoplayer.speak('fixed playlist', true); ",
      "onupdate": "if (routes['Rnext'].nearest) { daoplayer.setScene('WollatonHallArriveA1');} ",
      "updatePeriod":1.0,
      "tracks": [
        {
          "name": "fixedPlaylist",
          "pos": 0,
          "volume": 1 
        },
        {
          "name": "holdingPad",
          "volume": "sceneTime<2 ? [sceneTime,trackVolume,sceneTime+2,0] : 0" 
        }
      ]
    },
    {
      "name": "WollatonHallArriveA1",
      "description": "this scene changes to the first layer of Wollaton Hall arrival music when approaching",
      "partial": false,
      "waypoints":{"W1":"LTA_LT","W2":"LTA_WH"},
      "routes":{"R1":"LTA_LT-LTA_WH", "Rnext":"LTA_WH-LTA_WHa"},
 
      "onupdate": "if (!routes['R1'].near) { daoplayer.setScene('Start/any'); } else if (routes['Rnext'].nearest) { daoplayer.setScene('WollatonHallArriveA2'); }",
      "updatePeriod":1.0,
      "tracks": [
        {
          "name": "ArriveA_Layer1",
          "pos": 0,
          "volume": "sceneTime<2 ? [sceneTime,trackVolume,sceneTime+4,1] : 1" 
        },
        {
          "name": "ArriveA_Layer2",
          "pos": 0,
          "volume": "[0,0]"
        },
        {
          "name": "fixedPlaylist",
          "volume": "sceneTime<2 ? [sceneTime,trackVolume,sceneTime+4,0] : 0"
        },
        {
          "name": "holdingPad",
          "volume": "sceneTime<3 ? [sceneTime,trackVolume,sceneTime+1,0] : 0" 
        }
      ]
    },
    {
      "name": "WollatonHallArriveA2",
      "description": "second layer of Wollaton Hall arrival music when approaching",
      "partial": false,
      "waypoints":{"W1":"LTA_WH","W2":"LTA_WHa"},
      "routes":{"R1":"LTA_WH-LTA_WHa", "Rnext":"LTA_WHa-LTA_WHb"},
  
      "onupdate": "if (!routes['R1'].near) { daoplayer.setScene('Start/any'); } else if (routes['Rnext'].nearest) { daoplayer.setScene('WollatonHallArriveA3'); }",
      "updatePeriod":1.0,
      "tracks": [
        {
          "name": "ArriveA_Layer1",
          "volume": 1 
        },
        {
          "name": "ArriveA_Layer2",
          "volume": "sceneTime<2 ? [sceneTime,trackVolume,sceneTime+2,1] : 1" 
        },
        {
          "name": "holdingPad",
          "volume": "sceneTime<2 ? [sceneTime,trackVolume,sceneTime+2,0] : 0" 
        }
      ]
    },
    {
      "name": "WollatonHallArriveA3",
      "description": "second part of arrival music for close proximity to Wollaton Hall",
      "partial": false,
      "waypoints":{"W1":"LTA_WHa","W2":"LTA_WHb"},
      "routes":{"R1":"LTA_WHa-LTA_WHb", "Rnext":"LTA_WHb-WH1"},

      "onupdate": "if (!routes['R1'].near) { daoplayer.setScene('Start/any'); } else if (routes['Rnext'].nearest) { daoplayer.setScene('WollatonHallArriveA4'); }",
      "updatePeriod":1.0,
      "tracks": [
        {
          "name": "ArriveA_Layer1",
          "volume": 1 
        },
        {
          "name": "ArriveA_Layer2",
          "volume": 1 
        },
        {
          "name": "ArriveA_Layer3a",
          "pos": 0,
          "volume": "sceneTime<2 ? [sceneTime,trackVolume,sceneTime+1,0.5] : 0.5" 
        },
        {
          "name": "holdingPad",
          "volume": "sceneTime<2 ? [sceneTime,trackVolume,sceneTime+2,0] : 0" 
        }
      ]
    },
    {
      "name": "WollatonHallArriveA4",
      "description": "second part of arrival music for close proximity to Wollaton Hall",
      "partial": false,
      "waypoints":{"W1":"LTA_WHb","W2":"WH1"},
      "routes":{"R1":"LTA_WHb-WH1", "Rnext":"WH1-WH3"},
    
      "onupdate": "if (!routes['R1'].near) { daoplayer.setScene('Start/any'); } else if (routes['Rnext'].nearest) { daoplayer.setScene('WollatonHallArriveB'); }",
      "updatePeriod":1.0,
      "tracks": [
        {
          "name": "ArriveA_Layer1",
          "volume": 1 
        },
        {
          "name": "ArriveA_Layer2",
          "volume": 1 
        },
        {
          "name": "ArriveA_Layer3a",
          "volume": "sceneTime<2 ? [sceneTime,trackVolume,sceneTime+1,0] : 0" 
        },
        {
          "name": "ArriveA_Layer3b",
          "pos": 0,
          "volume": "sceneTime<2 ? [sceneTime,trackVolume,sceneTime+1,0.5] : 0.5" 
        },
        {
          "name": "holdingPad",
          "volume": "sceneTime<2 ? [sceneTime,trackVolume,sceneTime+2,0] : 0" 
        }
      ]
    },
    {
      "name": "WollatonHallArriveB",
      "description": "Final arrival music for Wollaton Hall",
      "partial": false,
      "waypoints":{"W1":"WH1", "W2":"WH3"},
      "routes":{"R1":"WH1-WH3", "Rnext": "WH_EP1-WH_EP2"},
      "onload": "daoplayer.speak('You have arrived at Wollaton Hall, please fill in the questionnaire', true);",
      "onupdate": " if (routes['Rnext'].nearest) { daoplayer.setScene('track1/WaitingForGA'); }",
      "updatePeriod":1.0,
      "tracks": [
        {
          "name": "ArriveB_Accent",
          "pos": 0,
          "volume": 1
        },
        {
          "name": "ArriveB_Layer1",
          "pos": 0,
          "volume": "sceneTime<2 ? [sceneTime,trackVolume,sceneTime+1,1] : 1" 
        },
        {
          "name": "ArriveA_Layer1",
          "volume": "sceneTime<2 ? [sceneTime,trackVolume,sceneTime+1,0] : 0"  
        },
        {
          "name": "ArriveA_Layer2",
          "volume": "sceneTime<2 ? [sceneTime,trackVolume,sceneTime+1,0] : 0"   
        },
        {
          "name": "ArriveA_Layer3b",
          "volume": "sceneTime<2 ? [sceneTime,trackVolume,sceneTime+1,0] : 0"  
        },
        {
          "name": "holdingPad",
          "volume": "sceneTime<2 ? [sceneTime,trackVolume,sceneTime+2,0] : 0" 
        }
      ]
    },
    {
      "name": "track1/WaitingForGA",
      "description": "this scene changes track to 'WaitingForGA' on route away from Wollaton hall",
      "partial": false,
      "waypoints":{"W1":"WH_EP1","W2":"WH_EP2", "W3":"WH_EP3", "W4":"EP_LTA", "W5":"LTA_OP"},
      "routes":{"R1":"WH_EP1-WH_EP2", "R2":"WH_EP2-WH_EP3", "R3":"WH_EP3-EP_LTA", "R4":"EP_LTA-LTA_OP", "Rnext":"LTA_OP-LTA_HW"},
      "onload": "if (waypoints['W5'].distance!==undefined) window.estimatedEnd=totalTime+(routes['R1'].nearest ? waypoints['W2'].distance+routes['R2'].length+routes['R3'].length+routes['R4'].length : waypoints['W5'].distance);(routes['R2'].nearest ? waypoints['W3'].distance+routes['R3'].length+routes['R4'].length : waypoints['W5'].distance);(routes['R3'].nearest ? waypoints['W4'].distance+routes['R4'].length : waypoints['W5'].distance)/1.5; else window.estimatedEnd=totalTime+240; ",
      
      "onupdate": "if (!routes['R1'].near && !routes['R2'].near && !routes['R3'].near && !routes['R4'].near) { daoplayer.setScene('Start/any'); } else if (routes['Rnext'].nearest) { daoplayer.setScene('track2/TheBadGuys'); } else if (waypoints['W5'].distance!==undefined) window.estimatedEnd=totalTime+(routes['R1'].nearest ? waypoints['W2'].distance+routes['R2'].length+routes['R3'].length+routes['R4'].length : waypoints['W5'].distance);(routes['R2'].nearest ? waypoints['W3'].distance+routes['R3'].length+routes['R4'].length : waypoints['W5'].distance);(routes['R3'].nearest ? waypoints['W4'].distance+routes['R4'].length : waypoints['W5'].distance)/1.5; ",
      
      "updatePeriod":1.0,
      "tracks": [
        {
          "name": "WaitingForGA",
          "pos": "daoplayer.selectSections('WaitingForGA',currentSection,sceneTime,window.estimatedEnd-totalTime,totalTime)",
          "volume": 1 
        },
        {
          "name": "ArriveB_Accent",
          "volume": "sceneTime<2 ? [sceneTime,trackVolume,sceneTime+2,0] : 0"
        },
        {
          "name": "ArriveB_Layer1",
          "volume": "sceneTime<2 ? [sceneTime,trackVolume,sceneTime+2,0] : 0"
        },
        {
          "name": "holdingPad",
          "volume": "sceneTime<2 ? [sceneTime,trackVolume,sceneTime+2,0] : 0" 
        }
      ]
    },
    {
      "name": "track2/TheBadGuys",
      "description": "this scene changes track to 'TheBadGuys' when walking under the tree cover",
      "partial": false,
      "waypoints":{"W1":"LTA_OP","W2":"LTA_HW"},
      "routes":{"R1":"LTA_OP-LTA_HW", "Rnext":"LTA_HW-LTA_GIR1"},
      "onload": "if (waypoints['W2'].distance!==undefined) window.estimatedEnd=totalTime+(waypoints['W2'].distance)/1.5; else window.estimatedEnd=200;",
      "onupdate": "if (!routes['R1'].near) { daoplayer.setScene('Start/any'); } else if (routes['Rnext'].nearest) { daoplayer.setScene('track3/Stella'); } else if (waypoints['W2'].distance!==undefined) window.estimatedEnd=totalTime+(waypoints['W2'].distance)/1.5; ",
      "updatePeriod":1.0,
      "tracks": [
        {
          "name": "TheBadGuys",
          "pos": "daoplayer.selectSections('TheBadGuys',currentSection,sceneTime,window.estimatedEnd-totalTime,totalTime)",
          "volume": 1 
        },
        {
          "name": "WaitingForGA",
          "volume": "sceneTime<2 ? [sceneTime,trackVolume,sceneTime+2,0] : 0" 
        },
        {
          "name": "holdingPad",
          "volume": "sceneTime<2 ? [sceneTime,trackVolume,sceneTime+2,0] : 0" 
        }
      ]
    },
    {
      "name": "track3/Stella",
      "description": "this scene changes track to 'Stella' half-way down Lime Tree Avenue - from tree cover to gate)",
      "partial": false,
      "waypoints":{"W1":"LTA_HW","W2":"LTA_GIR1"},
      "routes":{"R1":"LTA_HW-LTA_GIR1", "Rnext":"LTA_GIR1-LTA_GIR2"},
      "onload": "if (waypoints['W2'].distance!==undefined) window.estimatedEnd=totalTime+(waypoints['W2'].distance)/1.5; else window.estimatedEnd=180;",
      "onupdate": "if (!routes['R1'].near) { daoplayer.setScene('Start/any'); } else if (routes['Rnext'].nearest) { daoplayer.setScene('track4/MitaDelMundo'); } else if (waypoints['W2'].distance!==undefined) window.estimatedEnd=totalTime+(waypoints['W2'].distance)/1.5; ",
      "updatePeriod":1.0,
      "tracks": [
        {
          "name": "Stella",
          "pos": "daoplayer.selectSections('Stella',currentSection,sceneTime,window.estimatedEnd-totalTime,totalTime)",
          "volume": 1
        },
        {
          "name": "TheBadGuys",
          "volume": "sceneTime<2 ? [sceneTime,trackVolume,sceneTime+2,0] : 0"  
        },
        {
          "name": "holdingPad",
          "volume": "sceneTime<2 ? [sceneTime,trackVolume,sceneTime+2,0] : 0" 
        }
      ]
    },
    {
      "name": "track4/MitaDelMundo",
      "description": "the Mita Del Mundo track commences after walking through the gate on lime tree avenue",
      "partial": false,
      "waypoints":{"W1":"LTA_GIR1","W2":"LTA_GIR2", "W3":"LTA_GIR3", "W4":"LTA_MB"},
      "routes":{"R1":"LTA_GIR1-LTA_GIR2", "R2":"LTA_GIR2-LTA_GIR3", "R3":"LTA_GIR3-LTA_MB", "Rnext":"LTA_MB-MB_PCA"},
      "onload": "if (waypoints['W4'].distance!==undefined) window.estimatedEnd=totalTime+(routes['R1'].nearest ? waypoints['W2'].distance+routes['R2'].length+routes['R3'].length : waypoints['W4'].distance);(routes['R2'].nearest ? waypoints['W3'].distance+routes['R3'].length : waypoints['W4'].distance)/1.5; else window.estimatedEnd=240;",
      "onupdate": "if (!routes['R1'].near && !routes['R2'].near && !routes['R3'].near) { daoplayer.setScene('Start/any'); } else if (routes['Rnext'].nearest) { daoplayer.setScene('track5/SisterCities'); } else if (waypoints['W4'].distance!==undefined) window.estimatedEnd=totalTime+(routes['R1'].nearest ? waypoints['W2'].distance+routes['R2'].length+routes['R3'].length : waypoints['W4'].distance);(routes['R2'].nearest ? waypoints['W3'].distance+routes['R3'].length : waypoints['W4'].distance)/1.5; ",
      "updatePeriod":1.0,
      "tracks": [
        {
          "name": "MitaDelMundo",
          "pos": "daoplayer.selectSections('MitaDelMundo',currentSection,sceneTime,window.estimatedEnd-totalTime,totalTime)",
          "volume": 1 
        },
        {
          "name": "Stella",
          "volume": "sceneTime<2 ? [sceneTime,trackVolume,sceneTime+2,0] : 0"
        },
        {
          "name": "holdingPad",
          "volume": "sceneTime<2 ? [sceneTime,trackVolume,sceneTime+2,0] : 0" 
        }
      ]
    },
    {
      "name": "track5/SisterCities",
      "description": "the Sister Cities track starts when exiting Lime Tree avenue on to Middleton road",
      "partial": false,
      "waypoints": {"W1": "LTA_MB", "W2": "MB_PCA", "W3": "CA_LT", "W4": "JC_SFG"},
      "routes": {"R1": "LTA_MB-MB_PCA", "R2": "MB_PCA-CA_LT", "R3": "CA_LT-JC_SFG", "Rnext": "JC_SFG-SF_JCCP"},
      "onload": "if (waypoints['W4'].distance!==undefined) window.estimatedEnd=totalTime+(routes['R1'].nearest ? waypoints['W2'].distance+routes['R2'].length+routes['R3'].length : waypoints['W4'].distance);(routes['R2'].nearest ? waypoints['W3'].distance+routes['R3'].length : waypoints['W4'].distance)/1.5; else window.estimatedEnd=totalTime+350; ",
      
      "onupdate": "if (!routes['R1'].near && !routes['R2'].near && !routes['R3'].near) { daoplayer.setScene('Start/any'); } else if (routes['Rnext'].nearest) { daoplayer.setScene('track6/NotAlone'); } else if (waypoints['W4'].distance!==undefined) window.estimatedEnd=totalTime+(routes['R1'].nearest ? waypoints['W2'].distance+routes['R2'].length+routes['R3'].length : waypoints['W4'].distance);(routes['R2'].nearest ? waypoints['W3'].distance+routes['R3'].length : waypoints['W4'].distance)/1.5; ",
      "updatePeriod":1.0,
      "tracks": [
        {
          "name": "SisterCities_Drums",
          "pos": "daoplayer.selectSections('SisterCities_Drums',currentSection,sceneTime,window.estimatedEnd-totalTime,totalTime)",
          "volume": "routes['R2'].nearest ? [sceneTime,trackVolume,sceneTime+2,0] : 1"
        },
        {
          "name": "SisterCities_Bass",
          "pos": "daoplayer.selectSections('SisterCities_Drums',currentSection,sceneTime,window.estimatedEnd-totalTime,totalTime)",
          "volume": 1 
        },
        {
          "name": "SisterCities_Guitars",
          "pos": "daoplayer.selectSections('SisterCities_Drums',currentSection,sceneTime,window.estimatedEnd-totalTime,totalTime)",
          "volume": "routes['R2'].nearest ? [sceneTime,trackVolume,sceneTime+2,0] : 1"
        },
        {
          "name": "SisterCities_AcousticKeys",
          "pos": "daoplayer.selectSections('SisterCities_Drums',currentSection,sceneTime,window.estimatedEnd-totalTime,totalTime)",
          "volume": 1 
        },
        {
          "name": "SisterCities_Vox",
          "pos": "daoplayer.selectSections('SisterCities_Drums',currentSection,sceneTime,window.estimatedEnd-totalTime,totalTime)",
          "volume": 1  
        },
        {
          "name": "MitaDelMundo",
          "volume": "sceneTime<2 ? [sceneTime,trackVolume,sceneTime+2,0] : 0" 
        },
        {
          "name": "holdingPad",
          "volume": "sceneTime<2 ? [sceneTime,trackVolume,sceneTime+2,0] : 0" 
        }
      ]
    },
    {
      "name": "track6/NotAlone",
      "description": "this scene changes track to 'Not Alone' when entering the jubilee campus sports field",
      "partial": false,
      "waypoints":{"W1":"JC_SFG","W2":"SF_JCCP", "W3":"JC_NCL","W4":"JC_RSL", "W5":"JC_WF"},
      "routes":{"R1":"JC_SFG-SF_JCCP", "R2":"SF_JCCP-JC_NCL", "R3":"JC_NCL-JC_RSL", "R4":"JC_RSL-JC_WF", "Rnext":"JC_WF-JC_A1"},
      "onload": "if (waypoints['W5'].distance!==undefined) window.estimatedEnd=totalTime+(routes['R1'].nearest ? waypoints['W2'].distance+routes['R2'].length+routes['R3'].length+routes['R4'].length : waypoints['W5'].distance);(routes['R2'].nearest ? waypoints['W3'].distance+routes['R3'].length+routes['R4'].length : waypoints['W5'].distance);(routes['R3'].nearest ? waypoints['W4'].distance+routes['R4'].length : waypoints['W5'].distance)/1.5; else window.estimatedEnd=350;",
      
      "onupdate": "if (!routes['R1'].near && !routes['R2'].near && !routes['R3'].near && !routes['R4'].near) { daoplayer.setScene('Start/any'); } else if (routes['Rnext'].nearest) { daoplayer.setScene('AtriumArriveA1'); } else if (waypoints['W5'].distance!==undefined) window.estimatedEnd=totalTime+(routes['R1'].nearest ? waypoints['W2'].distance+routes['R2'].length+routes['R3'].length+routes['R4'].length : waypoints['W5'].distance);(routes['R2'].nearest ? waypoints['W3'].distance+routes['R3'].length+routes['R4'].length : waypoints['W5'].distance);(routes['R3'].nearest ? waypoints['W4'].distance+routes['R4'].length : waypoints['W5'].distance)/1.5; ",
      "updatePeriod":1.0,
      "tracks": [
        {
          "name": "NotAlone",
          "pos": "daoplayer.selectSections('NotAlone',currentSection,sceneTime,window.estimatedEnd-totalTime,totalTime)",
          "volume": 1 
        },
        {
          "name": "SisterCities_Drums",
          "volume": 0
        },
        {
          "name": "SisterCities_Bass",
          "volume": "sceneTime<2 ? [sceneTime,trackVolume,sceneTime+2,0] : 0" 
        },
        {
          "name": "SisterCities_Guitars",
          "volume": 0
        },
        {
          "name": "SisterCities_AcousticKeys",
          "volume": "sceneTime<2 ? [sceneTime,trackVolume,sceneTime+2,0] : 0" 
        },
        {
          "name": "SisterCities_Vox",
          "volume": 0 
        },
        {
          "name": "holdingPad",
          "volume": "sceneTime<2 ? [sceneTime,trackVolume,sceneTime+2,0] : 0" 
        }
      ]
    },
    {
      "name": "AtriumArriveA1",
      "description": "this scene changes to the first layer of Atrium arrival music when approaching",
      "partial": false,
      "waypoints":{"W1":"JC_WF","W2":"JC_A1"},
      "routes":{"R1":"JC_WF-JC_A1", "Rnext":"JC_A1-JC_A2"},
      
      "onupdate": "if (!routes['R1'].near) { daoplayer.setScene('Start/any'); } else if (routes['Rnext'].nearest) { daoplayer.setScene('AtriumArriveA2'); }",
      "updatePeriod":1.0,
      "tracks": [
        {
          "name": "ArriveA_Layer1",
          "pos": 0,
          "volume": "sceneTime<2 ? [sceneTime,trackVolume,sceneTime+4,1] : 1" 
        },
        {
          "name": "ArriveA_Layer2",
          "pos": 0,
          "volume": "[0,0]"
        },
        {
          "name": "NotAlone",
          "volume": "sceneTime<2 ? [sceneTime,trackVolume,sceneTime+4,0] : 0"
        },
        {
          "name": "holdingPad",
          "volume": "sceneTime<2 ? [sceneTime,trackVolume,sceneTime+2,0] : 0" 
        }
      ]
    },
    {
      "name": "AtriumArriveA2",
      "description": "second layer of Atrium arrival music when approaching",
      "partial": false,
      "waypoints":{"W1":"JC_A1","W2":"JC_A2"},
      "routes":{"R1":"JC_A1-JC_A2", "Rnext":"JC_A2-JC_A3"},
      
      "onupdate": "if (!routes['R1'].near) { daoplayer.setScene('Start/any'); } else if (routes['Rnext'].nearest) { daoplayer.setScene('AtriumArriveA3'); }",
      "updatePeriod":1.0,
      "tracks": [
        {
          "name": "ArriveA_Layer1",
          "volume": 1 
        },
        {
          "name": "ArriveA_Layer2",
          "volume": "sceneTime<2 ? [sceneTime,trackVolume,sceneTime+1,1] : 0" 
        },
        {
          "name": "holdingPad",
          "volume": "sceneTime<2 ? [sceneTime,trackVolume,sceneTime+2,0] : 0" 
        }
      ]
    },
    {
      "name": "AtriumArriveA3",
      "description": "third layer of Atrium arrival music - high strings",
      "partial": false,
      "waypoints":{"W1":"JC_A2","W2":"JC_A3"},
      "routes":{"R1":"JC_A2-JC_A3", "Rnext":"JC_A3-JC_AB"},
      
      "onupdate": "if (!routes['R1'].near) { daoplayer.setScene('Start/any'); } else if (routes['Rnext'].nearest) { daoplayer.setScene('AtriumArriveA4'); }",
      "updatePeriod":1.0,
      "tracks": [
        {
          "name": "ArriveA_Layer1",
          "volume": 1 
        },
        {
          "name": "ArriveA_Layer2",
          "volume": 1 
        },
        {
          "name": "ArriveA_Layer3a",
          "pos": 0,
          "volume": "sceneTime<2 ? [sceneTime,trackVolume,sceneTime+1,0.5] : 0.5" 
        },
        {
          "name": "holdingPad",
          "volume": "sceneTime<2 ? [sceneTime,trackVolume,sceneTime+1,0] : 0" 
        }
      ]
    },
    {
      "name": "AtriumArriveA4",
      "description": "second part of arrival music for close proximity to Wollaton Hall",
      "partial": false,
      "waypoints":{"W1":"JC_A3","W2":"JC_AB"},
      "routes":{"R1":"JC_A3-JC_AB", "Rnext":"JC_AB-J_CS"},

      "onupdate": "if (!routes['R1'].near) { daoplayer.setScene('Start/any'); } else if (routes['Rnext'].nearest) { daoplayer.setScene('AtriumArriveB'); }",
      "updatePeriod":1.0,
      "tracks": [
        {
          "name": "ArriveA_Layer1",
          "volume": 1 
        },
        {
          "name": "ArriveA_Layer2",
          "volume": 1 
        },
        {
          "name": "ArriveA_Layer3a",
          "volume": "sceneTime<2 ? [sceneTime,trackVolume,sceneTime+1,0] : 0" 
        },
        {
          "name": "ArriveA_Layer3b",
          "pos": 0,
          "volume": "sceneTime<3 ? [sceneTime,trackVolume,sceneTime+1,0.5] : 0.5" 
        },
        {
          "name": "holdingPad",
          "volume": "sceneTime<3 ? [sceneTime,trackVolume,sceneTime+1,0] : 0" 
        }
      ]
    },
    {
      "name": "AtriumArriveB",
      "description": "Final arrival music for Wollaton Hall",
      "partial": false,
      "waypoints":{"W1":"JC_AB", "W2":"J_CS"},
      "routes":{"R1":"JC_AB-J_CS"},
      "onload": "daoplayer.speak('You have arrived at the atrium, please fill in the questionnaire', true);",
      "onupdate": "if (!routes['R1'].near) { daoplayer.setScene('Start/any'); }",
      "updatePeriod":1.0,
      "tracks": [
        {
          "name": "ArriveB_Accent",
          "pos": 0,
          "volume": 1
        },
        {
          "name": "ArriveB_Layer1",
          "pos": 0,
          "volume": "sceneTime<2 ? [sceneTime,trackVolume,sceneTime+1,1] : 1" 
        },
        {
          "name": "ArriveA_Layer1",
          "volume": "sceneTime<2 ? [sceneTime,trackVolume,sceneTime+1,0] : 0"  
        },
        {
          "name": "ArriveA_Layer2",
          "volume": "sceneTime<2 ? [sceneTime,trackVolume,sceneTime+1,0] : 0"   
        },
        {
          "name": "ArriveA_Layer3b",
          "volume": "sceneTime<2 ? [sceneTime,trackVolume,sceneTime+1,0] : 0"  
        },
        {
          "name": "holdingPad",
          "volume": "sceneTime<2 ? [sceneTime,trackVolume,sceneTime+2,0] : 0" 
        }
      ]
    }
  ]
}
